"use strict";(self.webpackChunkphilips=self.webpackChunkphilips||[]).push([[191],{191:(di,$,a)=>{a.r($),a.d($,{GitIntegrationModule:()=>ui});var D={};a.r(D),a.d(D,{Decoder:()=>K,Encoder:()=>Jn,PacketType:()=>c,protocol:()=>Be});var J={};a.r(J),a.d(J,{Manager:()=>L,Socket:()=>j,connect:()=>_,default:()=>_,io:()=>_,protocol:()=>Be});var h=a(9808),X=a(2438),Fe=a(5861),s=a(7587),Le=a(9019),W=a(3905),ee=a(4464),te=a(520);let ne=(()=>{class n{constructor(e){this.http=e,this.baseURL=Le.N.url_server_base}getAllBranches(e){return(0,W.z)(this.http.get(this.baseURL+"git-integration/all-branches/"+e))}startProcessCherriPick(e){return(0,ee.n)(this.http.post(this.baseURL+"git-integration/startProcess",e))}getStatusProcess(){return(0,W.z)(this.http.get(this.baseURL+"git-integration/statusProcess/"))}getCommitsPullrequest(e){return(0,ee.n)(this.http.post(this.baseURL+"git-integration/commits",e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te.eN))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var De=a(1135),Je=a(7579),ze=a(9300),Ue=a(4482),qe=a(5403),Ge=a(8421),Qe=a(5032),d=a(1777),He=a(2313);const Ve=["overlay"];function Ke(n,t){1&n&&s._UZ(0,"div")}function je(n,t){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,Ke,1,0,"div",6),s.qZA()),2&n){const e=s.oxw(2);s.Tol(e.spinner.class),s.Udp("color",e.spinner.color),s.xp6(1),s.Q6J("ngForOf",e.spinner.divArray)}}function $e(n,t){if(1&n&&(s._UZ(0,"div",7),s.ALo(1,"safeHtml")),2&n){const e=s.oxw(2);s.Q6J("innerHTML",s.lcZ(1,1,e.template),s.oJD)}}function Xe(n,t){if(1&n&&(s.TgZ(0,"div",1,2),s.YNc(2,je,2,5,"div",3),s.YNc(3,$e,2,3,"div",4),s.TgZ(4,"div",5),s.Hsn(5),s.qZA()()),2&n){const e=s.oxw();s.Udp("background-color",e.spinner.bdColor)("z-index",e.spinner.zIndex)("position",e.spinner.fullScreen?"fixed":"absolute"),s.Q6J("@.disabled",e.disableAnimation)("@fadeIn","in"),s.xp6(2),s.Q6J("ngIf",!e.template),s.xp6(1),s.Q6J("ngIf",e.template),s.xp6(1),s.Udp("z-index",e.spinner.zIndex)}}const We=["*"],et={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},U="primary";class C{constructor(t){Object.assign(this,t)}static create(t){return(null==(null==t?void 0:t.type)||0===t.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new C(t)}}let ie=(()=>{class n{constructor(){this.spinnerObservable=new De.X(null)}getSpinner(e){return this.spinnerObservable.asObservable().pipe((0,ze.h)(i=>i&&i.name===e))}show(e=U,i){return new Promise((o,r)=>{setTimeout(()=>{i&&Object.keys(i).length?(i.name=e,this.spinnerObservable.next(new C(Object.assign(Object.assign({},i),{show:!0}))),o(!0)):(this.spinnerObservable.next(new C({name:e,show:!0})),o(!0))},10)})}hide(e=U,i=10){return new Promise((o,r)=>{setTimeout(()=>{this.spinnerObservable.next(new C({name:e,show:!1})),o(!0)},i)})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const se=new s.OlP("NGX_SPINNER_CONFIG");let tt=(()=>{class n{constructor(e){this._sanitizer=e}transform(e){if(e)return this._sanitizer.bypassSecurityTrustHtml(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(He.H7,16))},n.\u0275pipe=s.Yjl({name:"safeHtml",type:n,pure:!0}),n})(),nt=(()=>{class n{constructor(e,i,o,r){this.spinnerService=e,this.changeDetector=i,this.elementRef=o,this.globalConfig=r,this.disableAnimation=!1,this.spinner=new C,this.ngUnsubscribe=new Je.x,this.setDefaultOptions=()=>{var l,p;const{type:f}=null!==(l=this.globalConfig)&&void 0!==l?l:{};this.spinner=C.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:null!==(p=this.type)&&void 0!==p?p:f,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=U,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(e){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(e.target))&&(e.returnValue=!1,e.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(function Ye(n){return(0,Ue.e)((t,e)=>{(0,Ge.Xf)(n).subscribe((0,qe.x)(e,()=>e.complete(),Qe.Z)),!e.closed&&t.subscribe(e)})}(this.ngUnsubscribe)).subscribe(e=>{this.setDefaultOptions(),Object.assign(this.spinner,e),e.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(e){return e===this.elementRef.nativeElement.parentElement||e.parentNode&&this.isSpinnerZone(e.parentNode)}ngOnChanges(e){for(const i in e)if(i){const o=e[i];if(o.isFirstChange())return;void 0!==o.currentValue&&o.currentValue!==o.previousValue&&""!==o.currentValue&&(this.spinner[i]=o.currentValue,"showSpinner"===i&&(o.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===i&&this.initObservable())}}getClass(e,i){this.spinner.divCount=et[e],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((r,l)=>l);let o="";switch(i.toLowerCase()){case"small":o="la-sm";break;case"medium":o="la-2x";break;case"large":o="la-3x"}return"la-"+e+" "+o}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ie),s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(se,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngx-spinner"]],viewQuery:function(e,i){if(1&e&&s.Gf(Ve,5),2&e){let o;s.iGM(o=s.CRH())&&(i.spinnerDOM=o.first)}},hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(r){return i.handleKeyboardEvent(r)},!1,s.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[s.TTD],ngContentSelectors:We,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,Xe,6,12,"div",0)),2&e&&s.Q6J("ngIf",i.spinner.show)},dependencies:[h.sg,h.O5,tt],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[(0,d.X$)("fadeIn",[(0,d.SB)("in",(0,d.oB)({opacity:1})),(0,d.eR)(":enter",[(0,d.oB)({opacity:0}),(0,d.jt)(300)]),(0,d.eR)(":leave",(0,d.jt)(200,(0,d.oB)({opacity:0})))])]},changeDetection:0}),n})(),it=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:se,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[h.ez]}),n})();var T=a(2382),oe=a(2145),y=a(9783),R=a(845),re=a(1424),ae=a(4036);function st(n,t){1&n&&s.GkF(0)}function ot(n,t){1&n&&s.GkF(0)}const q=function(n){return{$implicit:n}};function rt(n,t){if(1&n&&(s.ynx(0),s.YNc(1,ot,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw().$implicit,i=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",i.markerTemplate)("ngTemplateOutletContext",s.VKq(2,q,e))}}function at(n,t){1&n&&s._UZ(0,"div",10)}function lt(n,t){1&n&&s._UZ(0,"div",11)}function ct(n,t){1&n&&s.GkF(0)}function ht(n,t){if(1&n&&(s.TgZ(0,"div",2)(1,"div",3),s.YNc(2,st,1,0,"ng-container",4),s.qZA(),s.TgZ(3,"div",5),s.YNc(4,rt,2,4,"ng-container",6),s.YNc(5,at,1,0,"ng-template",null,7,s.W1O),s.YNc(7,lt,1,0,"div",8),s.qZA(),s.TgZ(8,"div",9),s.YNc(9,ct,1,0,"ng-container",4),s.qZA()()),2&n){const e=t.$implicit,i=t.last,o=s.MAs(6),r=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",r.oppositeTemplate)("ngTemplateOutletContext",s.VKq(7,q,e)),s.xp6(2),s.Q6J("ngIf",r.markerTemplate)("ngIfElse",o),s.xp6(3),s.Q6J("ngIf",!i),s.xp6(2),s.Q6J("ngTemplateOutlet",r.contentTemplate)("ngTemplateOutletContext",s.VKq(9,q,e))}}const pt=function(n,t,e,i,o,r,l){return{"p-timeline p-component":!0,"p-timeline-left":n,"p-timeline-right":t,"p-timeline-top":e,"p-timeline-bottom":i,"p-timeline-alternate":o,"p-timeline-vertical":r,"p-timeline-horizontal":l}};let ut=(()=>{class n{constructor(e){this.el=e,this.align="left",this.layout="vertical"}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"opposite":this.oppositeTemplate=e.template;break;case"marker":this.markerTemplate=e.template}})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-timeline"]],contentQueries:function(e,i,o){if(1&e&&s.Suo(o,y.jx,4),2&e){let r;s.iGM(r=s.CRH())&&(i.templates=r)}},hostAttrs:[1,"p-element"],inputs:{value:"value",style:"style",styleClass:"styleClass",align:"align",layout:"layout"},decls:2,vars:13,consts:[[3,"ngStyle","ngClass"],["class","p-timeline-event",4,"ngFor","ngForOf"],[1,"p-timeline-event"],[1,"p-timeline-event-opposite"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-timeline-event-separator"],[4,"ngIf","ngIfElse"],["marker",""],["class","p-timeline-event-connector",4,"ngIf"],[1,"p-timeline-event-content"],[1,"p-timeline-event-marker"],[1,"p-timeline-event-connector"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,ht,10,11,"div",1),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngStyle",i.style)("ngClass",s.Hh0(5,pt,"left"===i.align,"right"===i.align,"top"===i.align,"bottom"===i.align,"alternate"===i.align,"vertical"===i.layout,"horizontal"===i.layout)),s.xp6(1),s.Q6J("ngForOf",i.value))},dependencies:[h.mk,h.sg,h.O5,h.tP,h.PC],styles:[".p-timeline{display:flex;flex-grow:1;flex-direction:column}.p-timeline-left .p-timeline-event-opposite{text-align:right}.p-timeline-left .p-timeline-event-content{text-align:left}.p-timeline-right .p-timeline-event{flex-direction:row-reverse}.p-timeline-right .p-timeline-event-opposite{text-align:left}.p-timeline-right .p-timeline-event-content{text-align:right}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(even){flex-direction:row-reverse}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-opposite{text-align:right}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-content{text-align:left}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(even) .p-timeline-event-opposite{text-align:left}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(even) .p-timeline-event-content{text-align:right}.p-timeline-event{display:flex;position:relative;min-height:70px}.p-timeline-event:last-child{min-height:0}.p-timeline-event-opposite,.p-timeline-event-content{flex:1;padding:0 1rem}.p-timeline-event-separator{flex:0;display:flex;align-items:center;flex-direction:column}.p-timeline-event-marker{display:flex;align-self:baseline}.p-timeline-event-connector{flex-grow:1}.p-timeline-horizontal{flex-direction:row}.p-timeline-horizontal .p-timeline-event{flex-direction:column;flex:1}.p-timeline-horizontal .p-timeline-event:last-child{flex:0}.p-timeline-horizontal .p-timeline-event-separator{flex-direction:row}.p-timeline-horizontal .p-timeline-event-connector{width:100%}.p-timeline-bottom .p-timeline-event{flex-direction:column-reverse}.p-timeline-horizontal.p-timeline-alternate .p-timeline-event:nth-child(even){flex-direction:column-reverse}\n"],encapsulation:2,changeDetection:0}),n})(),dt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[h.ez,y.m8]}),n})();var le=a(4870);function ft(n,t){1&n&&s.GkF(0)}function gt(n,t){if(1&n&&(s.TgZ(0,"div",8),s.Hsn(1,1),s.YNc(2,ft,1,0,"ng-container",6),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",e.headerTemplate)}}function mt(n,t){1&n&&s.GkF(0)}function yt(n,t){if(1&n&&(s.TgZ(0,"div",9),s._uU(1),s.YNc(2,mt,1,0,"ng-container",6),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij(" ",e.header," "),s.xp6(1),s.Q6J("ngTemplateOutlet",e.titleTemplate)}}function vt(n,t){1&n&&s.GkF(0)}function bt(n,t){if(1&n&&(s.TgZ(0,"div",10),s._uU(1),s.YNc(2,vt,1,0,"ng-container",6),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij(" ",e.subheader," "),s.xp6(1),s.Q6J("ngTemplateOutlet",e.subtitleTemplate)}}function _t(n,t){1&n&&s.GkF(0)}function Ct(n,t){1&n&&s.GkF(0)}function Tt(n,t){if(1&n&&(s.TgZ(0,"div",11),s.Hsn(1,2),s.YNc(2,Ct,1,0,"ng-container",6),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const xt=["*",[["p-header"]],[["p-footer"]]],St=["*","p-header","p-footer"];let wt=(()=>{class n{constructor(e){this.el=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"title":this.titleTemplate=e.template;break;case"subtitle":this.subtitleTemplate=e.template;break;case"content":default:this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}getBlockableElement(){return this.el.nativeElement.children[0]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-card"]],contentQueries:function(e,i,o){if(1&e&&(s.Suo(o,y.h4,5),s.Suo(o,y.$_,5),s.Suo(o,y.jx,4)),2&e){let r;s.iGM(r=s.CRH())&&(i.headerFacet=r.first),s.iGM(r=s.CRH())&&(i.footerFacet=r.first),s.iGM(r=s.CRH())&&(i.templates=r)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:St,decls:9,vars:9,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(e,i){1&e&&(s.F$t(xt),s.TgZ(0,"div",0),s.YNc(1,gt,3,1,"div",1),s.TgZ(2,"div",2),s.YNc(3,yt,3,2,"div",3),s.YNc(4,bt,3,2,"div",4),s.TgZ(5,"div",5),s.Hsn(6),s.YNc(7,_t,1,0,"ng-container",6),s.qZA(),s.YNc(8,Tt,3,1,"div",7),s.qZA()()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass","p-card p-component")("ngStyle",i.style),s.xp6(1),s.Q6J("ngIf",i.headerFacet||i.headerTemplate),s.xp6(2),s.Q6J("ngIf",i.header||i.titleTemplate),s.xp6(1),s.Q6J("ngIf",i.subheader||i.subtitleTemplate),s.xp6(3),s.Q6J("ngTemplateOutlet",i.contentTemplate),s.xp6(1),s.Q6J("ngIf",i.footerFacet||i.footerTemplate))},dependencies:[h.mk,h.O5,h.tP,h.PC],styles:[".p-card-header img{width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),At=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[h.ez,y.m8]}),n})();function kt(n,t){if(1&n&&s._UZ(0,"span",3),2&n){const e=s.oxw();s.Q6J("ngClass",e.icon)}}const Ot=["*"];let Et=(()=>{class n{containerClass(){return{"p-tag p-component":!0,"p-tag-info":"info"===this.severity,"p-tag-success":"success"===this.severity,"p-tag-warning":"warning"===this.severity,"p-tag-danger":"danger"===this.severity,"p-tag-rounded":this.rounded}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-tag"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",severity:"severity",value:"value",icon:"icon",rounded:"rounded"},ngContentSelectors:Ot,decls:5,vars:6,consts:[[3,"ngClass","ngStyle"],["class","p-tag-icon",3,"ngClass",4,"ngIf"],[1,"p-tag-value"],[1,"p-tag-icon",3,"ngClass"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.YNc(2,kt,1,1,"span",1),s.TgZ(3,"span",2),s._uU(4),s.qZA()()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",i.containerClass())("ngStyle",i.style),s.xp6(2),s.Q6J("ngIf",i.icon),s.xp6(2),s.Oqu(i.value))},dependencies:[h.mk,h.O5,h.PC],styles:[".p-tag{display:inline-flex;align-items:center;justify-content:center}.p-tag-icon,.p-tag-value,.p-tag-icon.pi{line-height:1.5}.p-tag.p-tag-rounded{border-radius:10rem}\n"],encapsulation:2,changeDetection:0}),n})(),Nt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[h.ez]}),n})();var ce=a(5315),he=a(5787);const Rt=function(n,t){return{"pi-minus":n,"pi-plus":t}};function Mt(n,t){if(1&n&&s._UZ(0,"span",9),2&n){const e=s.oxw(2);s.Q6J("ngClass",s.WLB(1,Rt,!e.collapsed,e.collapsed))}}function Bt(n,t){1&n&&s.GkF(0)}function It(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"a",7),s.NdJ("click",function(o){s.CHM(e);const r=s.oxw();return s.KtG(r.toggle(o))})("keydown.enter",function(o){s.CHM(e);const r=s.oxw();return s.KtG(r.toggle(o))}),s.YNc(2,Mt,1,4,"span",8),s.YNc(3,Bt,1,0,"ng-container",6),s.qZA(),s.BQk()}if(2&n){const e=s.oxw(),i=s.MAs(4);s.xp6(1),s.uIk("aria-controls",e.id+"-content")("aria-expanded",!e.collapsed),s.xp6(1),s.Q6J("ngIf",e.toggleable),s.xp6(1),s.Q6J("ngTemplateOutlet",i)}}function Pt(n,t){1&n&&s.GkF(0)}function Zt(n,t){if(1&n&&(s.TgZ(0,"span",10),s._uU(1),s.qZA(),s.Hsn(2,1),s.YNc(3,Pt,1,0,"ng-container",6)),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.legend),s.xp6(2),s.Q6J("ngTemplateOutlet",e.headerTemplate)}}function Ft(n,t){1&n&&s.GkF(0)}const Lt=["*",[["p-header"]]],Dt=function(n,t){return{"p-fieldset p-component":!0,"p-fieldset-toggleable":n,"p-fieldset-expanded":t}},Jt=function(n){return{transitionParams:n,height:"0"}},zt=function(n){return{value:"hidden",params:n}},Ut=function(n){return{transitionParams:n,height:"*"}},qt=function(n){return{value:"visible",params:n}},Gt=["*","p-header"];let Qt=0,Yt=(()=>{class n{constructor(e){this.el=e,this.collapsed=!1,this.collapsedChange=new s.vpe,this.onBeforeToggle=new s.vpe,this.onAfterToggle=new s.vpe,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-fieldset-"+Qt++}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template}})}toggle(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.collapsed?this.expand(e):this.collapse(e),this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed}),e.preventDefault()}expand(e){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(e){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(){this.animating=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-fieldset"]],contentQueries:function(e,i,o){if(1&e&&s.Suo(o,y.jx,4),2&e){let r;s.iGM(r=s.CRH())&&(i.templates=r)}},hostAttrs:[1,"p-element"],inputs:{legend:"legend",toggleable:"toggleable",collapsed:"collapsed",style:"style",styleClass:"styleClass",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:Gt,decls:9,vars:23,consts:[[3,"ngClass","ngStyle"],[1,"p-fieldset-legend"],[4,"ngIf","ngIfElse"],["legendContent",""],["role","region",1,"p-toggleable-content"],[1,"p-fieldset-content"],[4,"ngTemplateOutlet"],["tabindex","0","pRipple","",3,"click","keydown.enter"],["class","p-fieldset-toggler pi",3,"ngClass",4,"ngIf"],[1,"p-fieldset-toggler","pi",3,"ngClass"],[1,"p-fieldset-legend-text"]],template:function(e,i){if(1&e&&(s.F$t(Lt),s.TgZ(0,"fieldset",0)(1,"legend",1),s.YNc(2,It,4,4,"ng-container",2),s.YNc(3,Zt,4,2,"ng-template",null,3,s.W1O),s.qZA(),s.TgZ(5,"div",4),s.NdJ("@fieldsetContent.done",function(){return i.onToggleDone()}),s.TgZ(6,"div",5),s.Hsn(7),s.YNc(8,Ft,1,0,"ng-container",6),s.qZA()()()),2&e){const o=s.MAs(4);s.Tol(i.styleClass),s.Q6J("ngClass",s.WLB(12,Dt,i.toggleable,!i.collapsed&&i.toggleable))("ngStyle",i.style),s.uIk("id",i.id),s.xp6(2),s.Q6J("ngIf",i.toggleable)("ngIfElse",o),s.xp6(3),s.Q6J("@fieldsetContent",i.collapsed?s.VKq(17,zt,s.VKq(15,Jt,i.transitionOptions)):s.VKq(21,qt,s.VKq(19,Ut,i.animating?i.transitionOptions:"0ms"))),s.uIk("id",i.id+"-content")("aria-labelledby",i.id)("aria-hidden",i.collapsed),s.xp6(3),s.Q6J("ngTemplateOutlet",i.contentTemplate)}},dependencies:[h.mk,h.O5,h.tP,h.PC,he.H],styles:[".p-fieldset-legend>a,.p-fieldset-legend>span{display:flex;align-items:center;justify-content:center}.p-fieldset-toggleable .p-fieldset-legend a{cursor:pointer;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-fieldset-legend-text{line-height:1}.p-fieldset-toggleable.p-fieldset-expanded .p-toggleable-content:not(.ng-animating){overflow:visible}.p-fieldset-toggleable .p-toggleable-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[(0,d.X$)("fieldsetContent",[(0,d.SB)("hidden",(0,d.oB)({height:"0"})),(0,d.SB)("visible",(0,d.oB)({height:"*"})),(0,d.eR)("visible <=> hidden",[(0,d.jt)("{{transitionParams}}")]),(0,d.eR)("void => *",(0,d.jt)(0))])]},changeDetection:0}),n})(),Ht=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[h.ez,he.T,y.m8]}),n})();function Vt(n,t){if(1&n&&(s.TgZ(0,"span",39),s._UZ(1,"i",40),s.qZA()),2&n){const e=t.$implicit;s.Udp("background-color",e.color),s.xp6(1),s.Q6J("ngClass",e.icon)}}function Kt(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-card")(1,"div",41)(2,"p-tag",42),s.NdJ("click",function(){const r=s.CHM(e).$implicit,l=s.oxw();return s.KtG(l.showModalDialog(r))}),s.qZA(),s.TgZ(3,"p-tag",43),s.NdJ("click",function(){const r=s.CHM(e).$implicit,l=s.oxw();return s.KtG(l.showModalDialog(r))}),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.s9C("value",e.nome_log),s.xp6(1),s.Q6J("rounded",!0)}}function jt(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-button",44),s.NdJ("click",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.displayMaximizable=!1)}),s.qZA()}}const $t=function(){return{width:"50vw"}};let Xt=(()=>{class n{constructor(e,i){this.gitIntegrationService=e,this.spinner=i,this.filteredBranches=[],this.branchesSelecteds=[],this.listBranches=[],this.orderService="",this.localRepo={name:"",code:""},this.listRepo=[],this.mensageCommit="",this.pull_number="",this.firstCommit="",this.secondCommit="",this.thirdCommit="",this.fourthCommit="",this.events=[],this.displayMaximizable=!1,this.logSucess="",this.logErro="",this.logTitle="",this.logParam=""}ngOnInit(){this.getDataBranches("tasy"),this.initListRepositorio()}changeOrdemService(e){this.mensageCommit=`[SO-${e}] fix(AtePacOE) Ajuste .....`}refresListVersion(e){this.getDataBranches(e.code)}startProcess(){if(this.localRepo.name&&this.orderService&&0!=this.branchesSelecteds.length&&this.mensageCommit&&(this.firstCommit||this.secondCommit||this.thirdCommit||this.fourthCommit)){const e=this.getParameters();this.spinner.show(),this.initSatausProcess(),this.gitIntegrationService.startProcessCherriPick(e).then(()=>{this.gitStatusProcess(),clearInterval(this.controlestatusProcess),this.spinner.hide()},()=>{this.spinner.hide()})}else alert("Campos invalidos")}getParameters(){return{_nmFolder:this.localRepo.name,_ordenService:this.orderService,_listversion:this.branchesSelecteds.map(function(e){return e.name}),_listComiit:[this.firstCommit,this.secondCommit,this.thirdCommit,this.fourthCommit],msgCommit:this.mensageCommit,_pull_number:this.pull_number,_name_repo:this.localRepo.code}}initListRepositorio(){this.listRepo=[{name:"C:/DEV/html5-version/tasy",code:"tasy"},{name:"C:/DEV/html5-version/tasy-backend",code:"tasy-backend"},{name:"C:/DEV/html5-version/tasy-plsql",code:"tasy-plsql"},{name:"C:/DEV/html5-version/cci-medical-device-engine",code:"cci-medical-device-engine"}]}filterBranches(e){let i=[],o=e.query;for(let r=0;r<this.listBranches.length;r++){let l=this.listBranches[r];0==l.name.toLowerCase().indexOf(o.toLowerCase())&&i.push(l)}this.filteredBranches=i}getDataBranches(e){return this.branchesSelecteds=[],this.gitIntegrationService.getAllBranches(e).then(i=>(this.listBranches=[],this.listBranches=this.listBranches.concat(i)),()=>{})}initSatausProcess(){var e=this;this.events=[],this.controlestatusProcess=setInterval((0,Fe.Z)(function*(){window.scrollTo(0,15e4),e.gitStatusProcess()}),1e3)}gitStatusProcess(){this.gitIntegrationService.getStatusProcess().then(e=>{this.events=[],this.events=this.events.concat(e)},e=>{console.log(e)})}showModalDialog(e){this.logErro=JSON.stringify(e.error),this.logSucess=JSON.stringify(e.sucesso),this.logTitle=e.step+" "+e.nome_log,this.logParam=JSON.stringify(e.parametros),this.displayMaximizable=!0}changePullNumber(){this.firstCommit="",this.secondCommit="",this.thirdCommit="",this.fourthCommit="",this.pull_number&&this.gitIntegrationService.getCommitsPullrequest(this.getParameters()).then(e=>{e&&e.data&&e.data.length>0&&e.data.length<=4?(this.firstCommit=e.data[0]?e.data[0].sha:"",this.secondCommit=e.data[1]?e.data[1].sha:"",this.thirdCommit=e.data[2]?e.data[2].sha:"",this.fourthCommit=e.data[3]?e.data[3].sha:""):alert("Este PR tem mais de 4 commits")},e=>{console.log(e)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ne),s.Y36(ie))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-git-integration"]],decls:73,vars:27,consts:[[1,"grid"],[1,"col-12"],[1,"card","p-fluid"],[1,"p-formgrid","grid"],[1,"field","col-2"],["htmlFor","orderService"],["pInputText","","id","orderService","type","text",3,"ngModel","ngModelChange","keyup"],["pInputText","","id","orderService","type","text",3,"ngModel","ngModelChange","focusout"],[1,"field","col-8"],["htmlFor","list_Repo"],["optionLabel","name",3,"options","ngModel","ngModelChange","onChange"],[1,"field","col-12"],["htmlFor","mensage_commit"],["pInputText","","id","mensage_commit","type","text",3,"ngModel","ngModelChange"],[1,"field","col-3"],["htmlFor","first_commit"],["pInputText","","id","first_commit","type","text",3,"ngModel","ngModelChange"],["htmlFor","second_commit"],["pInputText","","id","second_commit","type","text",3,"ngModel","ngModelChange"],["htmlFor","third_commit"],["pInputText","","id","third_commit","type","text",3,"ngModel","ngModelChange"],["htmlFor","fourth_commit"],["pInputText","","id","fourth_commit","type","text",3,"ngModel","ngModelChange"],[1,"field","col-10"],["htmlFor","branches_selecteds"],[1,"p-fluid"],["field","name",3,"ngModel","suggestions","multiple","ngModelChange","completeMethod"],["pButton","","pRipple","","type","button","label","Iniciar",1,"p-button-rounded",3,"click"],[1,"field","col-6"],["align","alternate",3,"value"],["pTemplate","marker"],["pTemplate","content"],["bdColor","rgba(0,0,0,0)","size","default","color","#133bfc","type","pacman",3,"fullScreen"],[2,"color","white"],[3,"header","visible","modal","maximizable","baseZIndex","draggable","resizable","visibleChange"],["legend","Sucess"],["legend","Error"],["legend","Parametros"],["pTemplate","footer"],[1,"custom-marker","shadow-2"],[3,"ngClass"],[1,"cursorStyle"],["styleClass","mr-2",3,"value","click"],["styleClass","mr-2","severity","warning","value","Logs",3,"rounded","click"],["icon","pi pi-check","label","Fechar",1,"p-button-text",3,"click"]],template:function(e,i){1&e&&(s._UZ(0,"ngx-loading-bar"),s.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h5"),s._uU(5,"Configura\xe7\xf5es para cherry-pick"),s.qZA(),s.TgZ(6,"div",3)(7,"div",4)(8,"label",5),s._uU(9,"Orden Servi\xe7o"),s.qZA(),s.TgZ(10,"input",6),s.NdJ("ngModelChange",function(r){return i.orderService=r})("keyup",function(){return i.changeOrdemService(i.orderService)}),s.qZA()(),s.TgZ(11,"div",4)(12,"label",5),s._uU(13,"Numero PullReq"),s.qZA(),s.TgZ(14,"input",7),s.NdJ("ngModelChange",function(r){return i.pull_number=r})("focusout",function(){return i.changePullNumber()}),s.qZA()(),s.TgZ(15,"div",8)(16,"label",9),s._uU(17,"Local Repositorio"),s.qZA(),s.TgZ(18,"p-dropdown",10),s.NdJ("ngModelChange",function(r){return i.localRepo=r})("onChange",function(){return i.refresListVersion(i.localRepo)}),s.qZA()(),s.TgZ(19,"div",11)(20,"label",12),s._uU(21,"Mensagem Commit"),s.qZA(),s.TgZ(22,"input",13),s.NdJ("ngModelChange",function(r){return i.mensageCommit=r}),s.qZA()()(),s.TgZ(23,"div",3)(24,"div",14)(25,"label",15),s._uU(26,"1\xba Commit"),s.qZA(),s.TgZ(27,"input",16),s.NdJ("ngModelChange",function(r){return i.firstCommit=r}),s.qZA()(),s.TgZ(28,"div",14)(29,"label",17),s._uU(30,"2\xba Commits"),s.qZA(),s.TgZ(31,"input",18),s.NdJ("ngModelChange",function(r){return i.secondCommit=r}),s.qZA()(),s.TgZ(32,"div",14)(33,"label",19),s._uU(34,"3\xba Commits"),s.qZA(),s.TgZ(35,"input",20),s.NdJ("ngModelChange",function(r){return i.thirdCommit=r}),s.qZA()(),s.TgZ(36,"div",14)(37,"label",21),s._uU(38,"4\xba Commits"),s.qZA(),s.TgZ(39,"input",22),s.NdJ("ngModelChange",function(r){return i.fourthCommit=r}),s.qZA()()(),s.TgZ(40,"div",3)(41,"div",23)(42,"label",24),s._uU(43,"Selecionar Branches"),s.qZA(),s.TgZ(44,"span",25)(45,"p-autoComplete",26),s.NdJ("ngModelChange",function(r){return i.branchesSelecteds=r})("completeMethod",function(r){return i.filterBranches(r)}),s.qZA()()(),s.TgZ(46,"div",4)(47,"label"),s._uU(48,"."),s.qZA(),s.TgZ(49,"button",27),s.NdJ("click",function(){return i.startProcess()}),s.qZA()()()()()(),s.TgZ(50,"div",0)(51,"div",1)(52,"div",2)(53,"div",28)(54,"h6"),s._uU(55,"TimeLine"),s.qZA(),s.TgZ(56,"p-timeline",29),s.YNc(57,Vt,2,3,"ng-template",30),s.YNc(58,Kt,4,2,"ng-template",31),s.qZA()()()()(),s.TgZ(59,"ngx-spinner",32)(60,"p",33),s._uU(61,"Loading..."),s.qZA()(),s.TgZ(62,"p-dialog",34),s.NdJ("visibleChange",function(r){return i.displayMaximizable=r}),s.TgZ(63,"p-fieldset",35),s._uU(64),s.qZA(),s._UZ(65,"br"),s.TgZ(66,"p-fieldset",36),s._uU(67),s.qZA(),s._UZ(68,"br"),s.TgZ(69,"p-fieldset",37),s._uU(70),s.qZA(),s._UZ(71,"br"),s.YNc(72,jt,1,0,"ng-template",38),s.qZA()),2&e&&(s.xp6(10),s.Q6J("ngModel",i.orderService),s.xp6(4),s.Q6J("ngModel",i.pull_number),s.xp6(4),s.Q6J("options",i.listRepo)("ngModel",i.localRepo),s.xp6(4),s.Q6J("ngModel",i.mensageCommit),s.xp6(5),s.Q6J("ngModel",i.firstCommit),s.xp6(4),s.Q6J("ngModel",i.secondCommit),s.xp6(4),s.Q6J("ngModel",i.thirdCommit),s.xp6(4),s.Q6J("ngModel",i.fourthCommit),s.xp6(6),s.Q6J("ngModel",i.branchesSelecteds)("suggestions",i.filteredBranches)("multiple",!0),s.xp6(11),s.Q6J("value",i.events),s.xp6(3),s.Q6J("fullScreen",!0),s.xp6(3),s.Akn(s.DdM(26,$t)),s.MGl("header","Log Processo ",i.logTitle,""),s.Q6J("visible",i.displayMaximizable)("modal",!0)("maximizable",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),s.xp6(2),s.hij(" ",i.logSucess," "),s.xp6(3),s.hij(" ",i.logErro," "),s.xp6(3),s.hij(" ",i.logParam," "))},dependencies:[h.mk,T.Fj,T.JJ,T.On,oe.Qc,y.jx,R.Hq,R.zx,re.o,ae.Lt,ut,le.Nv,wt,nt,Et,ce.V,Yt],styles:[".custom-marker[_ngcontent-%COMP%]{display:flex;width:2rem;height:2rem;align-items:center;justify-content:center;color:#fff;border-radius:50%;z-index:1}  .p-timeline-event-content,   .p-timeline-event-opposite{line-height:1}.cursorStyle[_ngcontent-%COMP%]{cursor:pointer!important}@media screen and (max-width: 960px){  .customized-timeline .p-timeline-event:nth-child(even){flex-direction:row!important}  .customized-timeline .p-timeline-event:nth-child(even) .p-timeline-event-content{text-align:left!important}  .customized-timeline .p-timeline-event-opposite{flex:0}  .customized-timeline .p-card{margin-top:1rem}}"]}),n})(),Wt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[X.Bz.forChild([{path:"",component:Xt}]),X.Bz]}),n})();var en=a(8306),tn=a(3099);const m=Object.create(null);m.open="0",m.close="1",m.ping="2",m.pong="3",m.message="4",m.upgrade="5",m.noop="6";const M=Object.create(null);Object.keys(m).forEach(n=>{M[m[n]]=n});const nn={type:"error",data:"parser error"},sn="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),on="function"==typeof ArrayBuffer,pe=(n,t)=>{const e=new FileReader;return e.onload=function(){const i=e.result.split(",")[1];t("b"+i)},e.readAsDataURL(n)},ue=({type:n,data:t},e,i)=>sn&&t instanceof Blob?e?i(t):pe(t,i):on&&(t instanceof ArrayBuffer||(n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer)(t))?e?i(t):pe(new Blob([t]),i):i(m[n]+(t||"")),x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<x.length;n++)k[x.charCodeAt(n)]=n;const cn="function"==typeof ArrayBuffer,pn=(n,t)=>{if(cn){const e=(n=>{let i,r,l,p,f,t=.75*n.length,e=n.length,o=0;"="===n[n.length-1]&&(t--,"="===n[n.length-2]&&t--);const E=new ArrayBuffer(t),w=new Uint8Array(E);for(i=0;i<e;i+=4)r=k[n.charCodeAt(i)],l=k[n.charCodeAt(i+1)],p=k[n.charCodeAt(i+2)],f=k[n.charCodeAt(i+3)],w[o++]=r<<2|l>>4,w[o++]=(15&l)<<4|p>>2,w[o++]=(3&p)<<6|63&f;return E})(n);return de(e,t)}return{base64:!0,data:n}},de=(n,t)=>"blob"===t&&n instanceof ArrayBuffer?new Blob([n]):n,fe=(n,t)=>{if("string"!=typeof n)return{type:"message",data:de(n,t)};const e=n.charAt(0);return"b"===e?{type:"message",data:pn(n.substring(1),t)}:M[e]?n.length>1?{type:M[e],data:n.substring(1)}:{type:M[e]}:nn},ge=String.fromCharCode(30);function u(n){if(n)return function fn(n){for(var t in u.prototype)n[t]=u.prototype[t];return n}(n)}u.prototype.on=u.prototype.addEventListener=function(n,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(t),this},u.prototype.once=function(n,t){function e(){this.off(n,e),t.apply(this,arguments)}return e.fn=t,this.on(n,e),this},u.prototype.off=u.prototype.removeListener=u.prototype.removeAllListeners=u.prototype.removeEventListener=function(n,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var e=this._callbacks["$"+n];if(!e)return this;if(1==arguments.length)return delete this._callbacks["$"+n],this;for(var i,o=0;o<e.length;o++)if((i=e[o])===t||i.fn===t){e.splice(o,1);break}return 0===e.length&&delete this._callbacks["$"+n],this},u.prototype.emitReserved=u.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),e=this._callbacks["$"+n],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(e){i=0;for(var o=(e=e.slice(0)).length;i<o;++i)e[i].apply(this,t)}return this},u.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},u.prototype.hasListeners=function(n){return!!this.listeners(n).length};const v="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function ye(n,...t){return t.reduce((e,i)=>(n.hasOwnProperty(i)&&(e[i]=n[i]),e),{})}const gn=setTimeout,mn=clearTimeout;function B(n,t){t.useNativeTimers?(n.setTimeoutFn=gn.bind(v),n.clearTimeoutFn=mn.bind(v)):(n.setTimeoutFn=setTimeout.bind(v),n.clearTimeoutFn=clearTimeout.bind(v))}function vn(n){return"string"==typeof n?function bn(n){let t=0,e=0;for(let i=0,o=n.length;i<o;i++)t=n.charCodeAt(i),t<128?e+=1:t<2048?e+=2:t<55296||t>=57344?e+=3:(i++,e+=4);return e}(n):Math.ceil(1.33*(n.byteLength||n.size))}class _n extends Error{constructor(t,e,i){super(t),this.description=e,this.context=i,this.type="TransportError"}}class ve extends u{constructor(t){super(),this.writable=!1,B(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,e,i){return super.emitReserved("error",new _n(t,e,i)),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=fe(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}}const be="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),_e={};let Te,Ce=0,b=0;function xe(n){let t="";do{t=be[n%64]+t,n=Math.floor(n/64)}while(n>0);return t}function Se(){const n=xe(+new Date);return n!==Te?(Ce=0,Te=n):n+"."+xe(Ce++)}for(;b<64;b++)_e[be[b]]=b;function we(n){let t="";for(let e in n)n.hasOwnProperty(e)&&(t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(n[e]));return t}let Ae=!1;try{Ae="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){}const Tn=Ae;function ke(n){const t=n.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||Tn))return new XMLHttpRequest}catch(e){}if(!t)try{return new(v[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function xn(){}const Sn=null!=new ke({xdomain:!1}).responseType;let P=(()=>{class n extends u{constructor(e,i){super(),B(this,i),this.opts=i,this.method=i.method||"GET",this.uri=e,this.async=!1!==i.async,this.data=void 0!==i.data?i.data:null,this.create()}create(){const e=ye(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const i=this.xhr=new ke(e);try{i.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this.opts.extraHeaders[o])}}catch(o){}if("POST"===this.method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{i.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{4===i.readyState&&(200===i.status||1223===i.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof i.status?i.status:0)},0))},i.send(this.data)}catch(o){return void this.setTimeoutFn(()=>{this.onError(o)},0)}"undefined"!=typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(null!=this.xhr){if(this.xhr.onreadystatechange=xn,e)try{this.xhr.abort()}catch(i){}"undefined"!=typeof document&&delete n.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return n.requestsCount=0,n.requests={},n})();function Oe(){for(let n in P.requests)P.requests.hasOwnProperty(n)&&P.requests[n].abort()}"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",Oe):"function"==typeof addEventListener&&addEventListener("onpagehide"in v?"pagehide":"unload",Oe,!1));const Ee="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),Z=v.WebSocket||v.MozWebSocket,Ne="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),On={websocket:class kn extends ve{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,i=Ne?{}:ye(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=Ne?new Z(t,e,i):e?new Z(t,e):new Z(t)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const o=e===t.length-1;ue(t[e],this.supportsBinary,r=>{try{this.ws.send(r)}catch(p){}o&&Ee(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const e=this.opts.secure?"wss":"ws";let i="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(i=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=Se()),this.supportsBinary||(t.b64=1);const o=we(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(o.length?"?"+o:"")}check(){return!!Z}},polling:class wn extends ve{constructor(t){if(super(t),this.polling=!1,"undefined"!=typeof location){const i="https:"===location.protocol;let o=location.port;o||(o=i?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||o!==t.port,this.xs=t.secure!==i}this.supportsBinary=Sn&&!(t&&t.forceBase64)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||e()})),this.writable||(i++,this.once("drain",function(){--i||e()}))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((n,t)=>{const e=n.split(ge),i=[];for(let o=0;o<e.length;o++){const r=fe(e[o],t);if(i.push(r),"error"===r.type)break}return i})(t,this.socket.binaryType).forEach(i=>{if("opening"===this.readyState&&"open"===i.type&&this.onOpen(),"close"===i.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((n,t)=>{const e=n.length,i=new Array(e);let o=0;n.forEach((r,l)=>{ue(r,!1,p=>{i[l]=p,++o===e&&t(i.join(ge))})})})(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const e=this.opts.secure?"https":"http";let i="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Se()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(i=":"+this.opts.port);const o=we(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(o.length?"?"+o:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new P(this.uri(),t)}doWrite(t,e){const i=this.request({method:"POST",data:t});i.on("success",e),i.on("error",(o,r)=>{this.onError("xhr post error",o,r)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(e,i)=>{this.onError("xhr poll error",e,i)}),this.pollXhr=t}}},En=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Nn=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Q(n){const t=n,e=n.indexOf("["),i=n.indexOf("]");-1!=e&&-1!=i&&(n=n.substring(0,e)+n.substring(e,i).replace(/:/g,";")+n.substring(i,n.length));let o=En.exec(n||""),r={},l=14;for(;l--;)r[Nn[l]]=o[l]||"";return-1!=e&&-1!=i&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=function Rn(n,t){const i=t.replace(/\/{2,9}/g,"/").split("/");return("/"==t.slice(0,1)||0===t.length)&&i.splice(0,1),"/"==t.slice(-1)&&i.splice(i.length-1,1),i}(0,r.path),r.queryKey=function Mn(n,t){const e={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,o,r){o&&(e[o]=r)}),e}(0,r.query),r}let Re=(()=>{class n extends u{constructor(e,i={}){super(),e&&"object"==typeof e&&(i=e,e=null),e?(e=Q(e),i.hostname=e.host,i.secure="https"===e.protocol||"wss"===e.protocol,i.port=e.port,e.query&&(i.query=e.query)):i.host&&(i.hostname=Q(i.host).host),B(this,i),this.secure=null!=i.secure?i.secure:"undefined"!=typeof location&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=i.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=i.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},i),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function Cn(n){let t={},e=n.split("&");for(let i=0,o=e.length;i<o;i++){let r=e[i].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const i=Object.assign({},this.opts.query);i.EIO=4,i.transport=e,this.id&&(i.sid=this.id);const o=Object.assign({},this.opts.transportOptions[e],this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new On[e](o)}open(){let e;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(i){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",i=>this.onClose("transport close",i))}probe(e){let i=this.createTransport(e),o=!1;n.priorWebsocketSuccess=!1;const r=()=>{o||(i.send([{type:"ping",data:"probe"}]),i.once("packet",A=>{if(!o)if("pong"===A.type&&"probe"===A.data){if(this.upgrading=!0,this.emitReserved("upgrading",i),!i)return;n.priorWebsocketSuccess="websocket"===i.name,this.transport.pause(()=>{o||"closed"!==this.readyState&&(Ze(),this.setTransport(i),i.send([{type:"upgrade"}]),this.emitReserved("upgrade",i),i=null,this.upgrading=!1,this.flush())})}else{const N=new Error("probe error");N.transport=i.name,this.emitReserved("upgradeError",N)}}))};function l(){o||(o=!0,Ze(),i.close(),i=null)}const p=A=>{const N=new Error("probe error: "+A);N.transport=i.name,l(),this.emitReserved("upgradeError",N)};function f(){p("transport closed")}function E(){p("socket closed")}function w(A){i&&A.name!==i.name&&l()}const Ze=()=>{i.removeListener("open",r),i.removeListener("error",p),i.removeListener("close",f),this.off("close",E),this.off("upgrading",w)};i.once("open",r),i.once("error",p),i.once("close",f),this.once("close",E),this.once("upgrading",w),i.open()}onOpen(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let e=0;const i=this.upgrades.length;for(;e<i;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const i=new Error("server error");i.code=e.data,this.onError(i);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let o=0;o<this.writeBuffer.length;o++){const r=this.writeBuffer[o].data;if(r&&(i+=vn(r)),o>0&&i>this.maxPayload)return this.writeBuffer.slice(0,o);i+=2}return this.writeBuffer}write(e,i,o){return this.sendPacket("message",e,i,o),this}send(e,i,o){return this.sendPacket("message",e,i,o),this}sendPacket(e,i,o,r){if("function"==typeof i&&(r=i,i=void 0),"function"==typeof o&&(r=o,o=null),"closing"===this.readyState||"closed"===this.readyState)return;(o=o||{}).compress=!1!==o.compress;const l={type:e,data:i,options:o};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),e()},o=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?o():e()}):this.upgrading?o():e()),this}onError(e){n.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,i){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,i),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const i=[];let o=0;const r=e.length;for(;o<r;o++)~this.transports.indexOf(e[o])&&i.push(e[o]);return i}}return n.protocol=4,n})();const In="function"==typeof ArrayBuffer,Me=Object.prototype.toString,Zn="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Me.call(Blob),Fn="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Me.call(File);function Y(n){return In&&(n instanceof ArrayBuffer||(n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer)(n))||Zn&&n instanceof Blob||Fn&&n instanceof File}function F(n,t){if(!n||"object"!=typeof n)return!1;if(Array.isArray(n)){for(let e=0,i=n.length;e<i;e++)if(F(n[e]))return!0;return!1}if(Y(n))return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return F(n.toJSON(),!0);for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&F(n[e]))return!0;return!1}function Ln(n){const t=[],i=n;return i.data=H(n.data,t),i.attachments=t.length,{packet:i,buffers:t}}function H(n,t){if(!n)return n;if(Y(n)){const e={_placeholder:!0,num:t.length};return t.push(n),e}if(Array.isArray(n)){const e=new Array(n.length);for(let i=0;i<n.length;i++)e[i]=H(n[i],t);return e}if("object"==typeof n&&!(n instanceof Date)){const e={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=H(n[i],t));return e}return n}function Dn(n,t){return n.data=V(n.data,t),n.attachments=void 0,n}function V(n,t){if(!n)return n;if(n&&!0===n._placeholder){if("number"==typeof n.num&&n.num>=0&&n.num<t.length)return t[n.num];throw new Error("illegal attachments")}if(Array.isArray(n))for(let e=0;e<n.length;e++)n[e]=V(n[e],t);else if("object"==typeof n)for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e]=V(n[e],t));return n}const Be=5;var c=(()=>{return(n=c||(c={}))[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",c;var n})();class Jn{constructor(t){this.replacer=t}encode(t){return t.type!==c.EVENT&&t.type!==c.ACK||!F(t)?[this.encodeAsString(t)]:(t.type=t.type===c.EVENT?c.BINARY_EVENT:c.BINARY_ACK,this.encodeAsBinary(t))}encodeAsString(t){let e=""+t.type;return(t.type===c.BINARY_EVENT||t.type===c.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=Ln(t),i=this.encodeAsString(e.packet),o=e.buffers;return o.unshift(i),o}}class K extends u{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t),e.type===c.BINARY_EVENT||e.type===c.BINARY_ACK?(this.reconstructor=new zn(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!Y(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const i={type:Number(t.charAt(0))};if(void 0===c[i.type])throw new Error("unknown packet type "+i.type);if(i.type===c.BINARY_EVENT||i.type===c.BINARY_ACK){const r=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const l=t.substring(r,e);if(l!=Number(l)||"-"!==t.charAt(e))throw new Error("Illegal attachments");i.attachments=Number(l)}if("/"===t.charAt(e+1)){const r=e+1;for(;++e&&","!==t.charAt(e)&&e!==t.length;);i.nsp=t.substring(r,e)}else i.nsp="/";const o=t.charAt(e+1);if(""!==o&&Number(o)==o){const r=e+1;for(;++e;){const l=t.charAt(e);if(null==l||Number(l)!=l){--e;break}if(e===t.length)break}i.id=Number(t.substring(r,e+1))}if(t.charAt(++e)){const r=this.tryParse(t.substr(e));if(!K.isPayloadValid(i.type,r))throw new Error("invalid payload");i.data=r}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(e){return!1}}static isPayloadValid(t,e){switch(t){case c.CONNECT:return"object"==typeof e;case c.DISCONNECT:return void 0===e;case c.CONNECT_ERROR:return"string"==typeof e||"object"==typeof e;case c.EVENT:case c.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case c.ACK:case c.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class zn{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const e=Dn(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function g(n,t,e){return n.on(t,e),function(){n.off(t,e)}}const Un=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class j extends u{constructor(t,e,i){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,i&&i.auth&&(this.auth=i.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[g(t,"open",this.onopen.bind(this)),g(t,"packet",this.onpacket.bind(this)),g(t,"error",this.onerror.bind(this)),g(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(Un.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');e.unshift(t);const i={type:c.EVENT,data:e,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const l=this.ids++,p=e.pop();this._registerAckCallback(l,p),i.id=l}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,e){const i=this.flags.timeout;if(void 0===i)return void(this.acks[t]=e);const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let r=0;r<this.sendBuffer.length;r++)this.sendBuffer[r].id===t&&this.sendBuffer.splice(r,1);e.call(this,new Error("operation has timed out"))},i);this.acks[t]=(...r)=>{this.io.clearTimeoutFn(o),e.apply(this,[null,...r])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth(t=>{this.packet({type:c.CONNECT,data:t})}):this.packet({type:c.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case c.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case c.EVENT:case c.BINARY_EVENT:this.onevent(t);break;case c.ACK:case c.BINARY_ACK:this.onack(t);break;case c.DISCONNECT:this.ondisconnect();break;case c.CONNECT_ERROR:this.destroy();const i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const i of e)i.apply(this,t)}super.emit.apply(this,t)}ack(t){const e=this;let i=!1;return function(...o){i||(i=!0,e.packet({type:c.ACK,id:t,data:o}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:c.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let i=0;i<e.length;i++)if(t===e[i])return e.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let i=0;i<e.length;i++)if(t===e[i])return e.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const i of e)i.apply(this,t.data)}}}function S(n){this.ms=(n=n||{}).min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}S.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),e=Math.floor(t*this.jitter*n);n=0==(1&Math.floor(10*t))?n-e:n+e}return 0|Math.min(n,this.max)},S.prototype.reset=function(){this.attempts=0},S.prototype.setMin=function(n){this.ms=n},S.prototype.setMax=function(n){this.max=n},S.prototype.setJitter=function(n){this.jitter=n};class L extends u{constructor(t,e){var i;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,B(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(i=e.randomizationFactor)&&void 0!==i?i:.5),this.backoff=new S({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const o=e.parser||D;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Re(this.uri,this.opts);const e=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const o=g(e,"open",function(){i.onopen(),t&&t()}),r=g(e,"error",l=>{i.cleanup(),i._readyState="closed",this.emitReserved("error",l),t?t(l):i.maybeReconnectOnOpen()});if(!1!==this._timeout){const l=this._timeout;0===l&&o();const p=this.setTimeoutFn(()=>{o(),e.close(),e.emit("error",new Error("timeout"))},l);this.opts.autoUnref&&p.unref(),this.subs.push(function(){clearTimeout(p)})}return this.subs.push(o),this.subs.push(r),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(g(t,"ping",this.onping.bind(this)),g(t,"data",this.ondata.bind(this)),g(t,"error",this.onerror.bind(this)),g(t,"close",this.onclose.bind(this)),g(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}ondecoded(t){Ee(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let i=this.nsps[t];return i||(i=new j(this,t,e),this.nsps[t]=i),i}_destroy(t){const e=Object.keys(this.nsps);for(const i of e)if(this.nsps[i].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let i=0;i<e.length;i++)this.engine.write(e[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},e);this.opts.autoUnref&&i.unref(),this.subs.push(function(){clearTimeout(i)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const O={};function _(n,t){"object"==typeof n&&(t=n,n=void 0);const e=function Bn(n,t="",e){let i=n;e=e||"undefined"!=typeof location&&location,null==n&&(n=e.protocol+"//"+e.host),"string"==typeof n&&("/"===n.charAt(0)&&(n="/"===n.charAt(1)?e.protocol+n:e.host+n),/^(https?|wss?):\/\//.test(n)||(n=void 0!==e?e.protocol+"//"+n:"https://"+n),i=Q(n)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+t,i.href=i.protocol+"://"+r+(e&&e.port===i.port?"":":"+i.port),i}(n,(t=t||{}).path||"/socket.io"),i=e.source,o=e.id;let f;return t.forceNew||t["force new connection"]||!1===t.multiplex||O[o]&&e.path in O[o].nsps?f=new L(i,t):(O[o]||(O[o]=new L(i,t)),f=O[o]),e.query&&!t.query&&(t.query=e.queryKey),f.socket(e.path,t)}Object.assign(_,{Manager:L,Socket:j,io:_,connect:_});class Ie{constructor(t){this.config=t,this.subscribersCounter={},this.eventObservables$={},this.emptyConfig={url:"",options:{}},void 0===t&&(t=this.emptyConfig),this.ioSocket=(_||J)(t.url,t.options)}of(t){this.ioSocket.of(t)}on(t,e){this.ioSocket.on(t,e)}once(t,e){this.ioSocket.once(t,e)}connect(){return this.ioSocket.connect()}disconnect(t){return this.ioSocket.disconnect.apply(this.ioSocket,arguments)}emit(t,...e){return this.ioSocket.emit.apply(this.ioSocket,arguments)}removeListener(t,e){return this.ioSocket.removeListener.apply(this.ioSocket,arguments)}removeAllListeners(t){return this.ioSocket.removeAllListeners.apply(this.ioSocket,arguments)}fromEvent(t){return this.subscribersCounter[t]||(this.subscribersCounter[t]=0),this.subscribersCounter[t]++,this.eventObservables$[t]||(this.eventObservables$[t]=new en.y(e=>{const i=o=>{e.next(o)};return this.ioSocket.on(t,i),()=>{this.subscribersCounter[t]--,0===this.subscribersCounter[t]&&(this.ioSocket.removeListener(t,i),delete this.eventObservables$[t])}}).pipe((0,tn.B)())),this.eventObservables$[t]}fromOneTimeEvent(t){return new Promise(e=>this.once(t,e))}}function qn(n){return new Ie(n)}const Pe=new s.OlP("__SOCKET_IO_CONFIG__");let Gn=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:Pe,useValue:e},{provide:Ie,useFactory:qn,deps:[Pe]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();var Qn=a(386),Yn=a(5652),Hn=a(1075),Vn=a(1208),Kn=a(2472),jn=a(2939),$n=a(6888),Xn=a(2537),Wn=a(7010),ei=a(242),ti=a(3407),ni=a(6001),ii=a(5055),si=a(6526),oi=a(9603),ri=a(8018),ai=a(7102),li=a(4776),ci=a(2841),hi=a(2980);const pi={url:"http://localhost:3500",options:{}};let ui=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[ne],imports:[h.ez,Wt,Gn.forRoot(pi),T.u5,T.UX,h.ez,hi.F,T.u5,oe.WN,Yn._8,jn.Gg,ae.kW,Xn.zz,Wn.L$,$n.e4,Hn.XH,si.q4,dt,R.hJ,li.JH,ti.A,oi.cc,re.j,ri.Xt,Kn.o,ni.dJ,ei.Iu,ii.ON,ai.Qy,Vn.nD,R.hJ,ci.KZ,te.JF,Qn.e,le.sS,At,it,Nt,ce.S,Ht]}),n})()}}]);