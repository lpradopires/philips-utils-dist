"use strict";(self.webpackChunkphilips=self.webpackChunkphilips||[]).push([[592],{2910:(P,u,t)=>{t.d(u,{E:()=>h});var O=t(5861),s=t(2382),e=t(7587),m=t(9930),p=t(5330),l=t(60),v=t(3569),d=t(845),b=t(1424),f=t(3407),D=t(9603),M=t(7376);function j(a,E){if(1&a){const n=e.EpF();e.TgZ(0,"div",23)(1,"p-radioButton",24),e.NdJ("click",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.generateObjOnVersionChange())}),e.qZA()()}if(2&a){const n=E.$implicit;e.xp6(1),e.s9C("label",n.CD_VERSAO),e.Q6J("inputId",n.CD_VERSAO)("value",n.CD_VERSAO)}}let h=(()=>{class a{constructor(n,o,r){this.dicDadosService=n,this.ref=o,this.formBuilder=r,this.tableData={DS_VERSAO_REAL:"",NR_SEQ_OBJETO:null,NM_OBJETO:"",DT_ATUALIZACAO:"",NM_USUARIO:"",NR_ORDEM_SERVICO:null},this.objectFetched="",this.versions=[{CD_VERSAO:"Atual"}],this.selectedVersion="",this.selectedObjectSequence=null,this.selectedObjectName={NM_OBJETO:""},this.formObjects=this.formBuilder.group({selectedObjectName:[""],selectedObjectSequence:[""],selectedVersion:["Atual",[s.kI.required]]}),this.formObjectFetched=this.formBuilder.group({objectFetched:["",[s.kI.required]]})}ngOnInit(){this.getLastOfficialVersions()}getLastOfficialVersions(){var n=this;return(0,O.Z)(function*(){try{const o=yield n.dicDadosService.getLastVersions();Array.isArray(o)&&o.length>0&&n.addResultsToVersions(o)}catch(o){console.error("Erro buscando as vers\xf5es:",o)}})()}addResultsToVersions(n){if(0!==n.length)for(const o of n)this.versions.some(r=>r.CD_VERSAO===o.CD_VERSAO)||this.versions.push({CD_VERSAO:o.CD_VERSAO})}generateObjOnVersionChange(){const n=this.formObjects,o=n.get("selectedObjectSequence"),r=n.get("selectedObjectName");(""!==(null==o?void 0:o.value)||""!==(null==r?void 0:r.value))&&this.generateObject()}generateObject(){var n=this;return(0,O.Z)(function*(){var o,r,i;try{n.clearCurrentValues(),n.formObjects.disable();const _={objectVersion:null===(o=n.formObjects.get("selectedVersion"))||void 0===o?void 0:o.value,objectName:null===(r=n.formObjects.get("selectedObjectName"))||void 0===r?void 0:r.value.toUpperCase(),objectSequence:null===(i=n.formObjects.get("selectedObjectSequence"))||void 0===i?void 0:i.value};yield n.setObjectValues(_),n.formObjects.enable()}catch(_){throw console.error("Erro ao buscar o objeto: ",_),_}})()}clearCurrentValues(){var n;this.tableData={DS_VERSAO_REAL:"",NR_SEQ_OBJETO:null,NM_OBJETO:"",DT_ATUALIZACAO:"",NM_USUARIO:"",NR_ORDEM_SERVICO:null},null===(n=this.formObjectFetched.get("objectFetched"))||void 0===n||n.setValue("")}setObjectValues(n){var o=this;return(0,O.Z)(function*(){var r,i,_;const c=yield o.dicDadosService.fetchObjectFromWheb(n);(null==c?void 0:c.length)>0&&(o.tableData=c[0],o.tableData.DS_VERSAO_REAL=c[0].DS_VERSAO_REAL||"Objeto mais atual sem libera\xe7\xe3o",null===(r=o.formObjectFetched.get("objectFetched"))||void 0===r||r.setValue(c[0].DS_SCRIPT_CRIACAO),null===(i=o.formObjects.get("selectedObjectName"))||void 0===i||i.setValue(c[0].NM_OBJETO),null===(_=o.formObjects.get("selectedObjectSequence"))||void 0===_||_.setValue(c[0].NR_SEQ_OBJETO))})()}clearOldObjInfo(n){var o;const r=this.formObjects,i=r.get("selectedObjectSequence"),_=r.get("selectedObjectName");"objName"===n.target.id&&""!==(null==i?void 0:i.value)?null==i||i.setValue(""):"objSequence"===n.target.id&&""!==(null==_?void 0:_.value)&&(null==_||_.setValue("")),""!==(null===(o=r.get("selectedVersion"))||void 0===o?void 0:o.value)&&this.generateObject()}ngOnDestroy(){var n,o,r;this.ref&&this.ref.close({nmObjeto:null===(n=this.formObjects.get("selectedObjectName"))||void 0===n?void 0:n.value,nrSeqObjeto:null===(o=this.formObjects.get("selectedObjectSequence"))||void 0===o?void 0:o.value,descObjeto:null===(r=this.formObjectFetched.get("objectFetched"))||void 0===r?void 0:r.value})}copyObject(){const n=document.getElementById("objectFetchedTa");n&&(n.select(),document.execCommand("copy"))}}return a.\u0275fac=function(n){return new(n||a)(e.Y36(m.S),e.Y36(p.E7),e.Y36(s.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-objects"]],decls:40,vars:8,consts:[[1,"grid"],[1,"col-12","p-0"],[1,"p-fluid","p-3","pb-0","m-0"],[3,"formGroup"],[1,"p-formgrid","grid","align-items-center"],[1,"field","col-3"],["for","objName"],["pInputText","","id","objName","type","text","formControlName","selectedObjectName",3,"keydown.enter","blur"],[1,"field","col-1"],["for","objSequence"],["pInputText","","id","objSequence","type","text","formControlName","selectedObjectSequence",3,"keydown.enter","blur"],[1,"p-formgrid","grid","col-5","justify-content-center","gap-2"],["for","objSequence",1,"col-12","text-center","pb-0","mb-0"],["class","flex align-items-center gap-1 pt-0 mt-0",4,"ngFor","ngForOf"],["layout","vertical"],[1,"field","col-2"],["for","objectInfo"],[1,"col-12","p-0","m-0"],[1,"p-formgrid","grid","mt-1"],[1,"field","col-12"],["rows","5","cols","30","pInputTextarea","","formControlName","objectFetched","id","objectFetchedTa"],[1,"field","col-12","text-right","m-0","pt-0"],["label","Copiar","id","btnSearchObject",3,"disabled","click"],[1,"flex","align-items-center","gap-1","pt-0","mt-0"],["formControlName","selectedVersion",3,"inputId","label","value","click"]],template:function(n,o){if(1&n&&(e._UZ(0,"ngx-loading-bar"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"form",3)(5,"div",4)(6,"div",5)(7,"label",6),e._uU(8,"Nome:"),e.qZA(),e.TgZ(9,"input",7),e.NdJ("keydown.enter",function(i){return o.clearOldObjInfo(i)})("blur",function(i){return o.clearOldObjInfo(i)}),e.qZA()(),e.TgZ(10,"div",8)(11,"label",9),e._uU(12,"Sequ\xeancia:"),e.qZA(),e.TgZ(13,"input",10),e.NdJ("keydown.enter",function(i){return o.clearOldObjInfo(i)})("blur",function(i){return o.clearOldObjInfo(i)}),e.qZA()(),e.TgZ(14,"div",11)(15,"label",12),e._uU(16,"Vers\xe3o:"),e.qZA(),e.YNc(17,j,2,3,"div",13),e.qZA(),e._UZ(18,"p-divider",14),e.TgZ(19,"div",15)(20,"label",16),e._uU(21,"Dados do Objeto:"),e.qZA(),e.TgZ(22,"div",17)(23,"p"),e._uU(24),e.qZA()(),e.TgZ(25,"div",17)(26,"p"),e._uU(27),e.qZA()(),e.TgZ(28,"div",17)(29,"p"),e._uU(30),e.qZA()(),e.TgZ(31,"div",17)(32,"p"),e._uU(33),e.qZA()()()()()(),e.TgZ(34,"form",3)(35,"div",18)(36,"div",19),e._UZ(37,"textarea",20),e.qZA(),e.TgZ(38,"div",21)(39,"p-button",22),e.NdJ("click",function(){return o.copyObject()}),e.qZA()()()()()()),2&n){let r;e.xp6(4),e.Q6J("formGroup",o.formObjects),e.xp6(13),e.Q6J("ngForOf",o.versions),e.xp6(7),e.hij("Vers\xe3o do objeto encontrado: ",o.tableData.DS_VERSAO_REAL,""),e.xp6(3),e.hij("Data altera\xe7\xe3o: ",o.tableData.DT_ATUALIZACAO,""),e.xp6(3),e.hij("Usu\xe1rio: ",o.tableData.NM_USUARIO,""),e.xp6(3),e.hij("Ordem de servi\xe7o: ",o.tableData.NR_ORDEM_SERVICO,""),e.xp6(1),e.Q6J("formGroup",o.formObjectFetched),e.xp6(5),e.Q6J("disabled",!(null!=(r=o.formObjectFetched.get("objectFetched"))&&r.value))}},dependencies:[l.sg,s._Y,s.Fj,s.JJ,s.JL,v.Nv,d.zx,s.sg,s.u,b.o,f.g,D.EU,M.i],styles:["h1[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.p-grid[_ngcontent-%COMP%]{padding:3px}.p-field[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}label[_ngcontent-%COMP%]{font-weight:700;display:block}textarea[_ngcontent-%COMP%]{min-height:450px;width:100%;padding:10px;border:1px solid #ddd;border-radius:5px;font-size:16px;background-color:#fff;max-width:100%}.modal[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:9999;display:flex;justify-content:center;align-items:center}.modal-dialog[_ngcontent-%COMP%]{background-color:#fff;max-width:20rem;border-radius:8px 8px 5px 5px;box-shadow:0 0 10px #00000080}.modal-content[_ngcontent-%COMP%]{padding:20px}.radio-option[_ngcontent-%COMP%]{text-align:center}p-radioButton[_ngcontent-%COMP%]{display:block;margin:0 auto}.p-radiobutton-label[_ngcontent-%COMP%]{font-size:12px;text-align:center;margin-right:.5rem;margin-bottom:.5rem}button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;margin-top:10px}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.modal-header[_ngcontent-%COMP%]{background-color:#3e82fc;color:#fff;border-top-left-radius:8px;border-top-right-radius:8px;position:relative}.objectData[_ngcontent-%COMP%]{padding:2rem}.close[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;outline:none}.close[_ngcontent-%COMP%]:hover{color:red}"],changeDetection:0}),a})()},8911:(P,u,t)=>{t.r(u),t.d(u,{SettingsModule:()=>S});var O=t(60),s=t(2980),e=t(2382),m=t(2145),p=t(5652),l=t(2939),v=t(2472),d=t(4036),b=t(2537),f=t(7010),D=t(1075),M=t(6526),j=t(3407),h=t(1424),a=t(8018),E=t(6001),n=t(5055),o=t(7102),r=t(1208),i=t(845),_=t(242),c=t(9603),A=t(6888),T=t(2841),R=t(4776),U=t(635),I=t(520),L=t(386),B=t(3569),C=t(7587);let S=(()=>{class g{}return g.\u0275fac=function(W){return new(W||g)},g.\u0275mod=C.oAB({type:g}),g.\u0275inj=C.cJS({providers:[U.g],imports:[e.u5,e.UX,O.ez,s.F,e.u5,m.WN,p._8,l.Gg,d.kW,b.zz,f.L$,A.e4,D.XH,M.q4,i.hJ,R.JH,j.A,c.cc,h.j,a.Xt,v.o,E.dJ,_.Iu,n.ON,o.Qy,r.nD,i.hJ,T.KZ,I.JF,L.e,B.sS]}),g})()},9930:(P,u,t)=>{t.d(u,{S:()=>p});var O=t(9019),s=t(9808),e=t(7587),m=t(520);let p=(()=>{class l{constructor(d){this.http=d,this.baseURL=O.N.url_server_base}fetchObjectFromWheb(d){return(0,s.n)(this.http.post(this.baseURL+"consulta-objects/get-object-version",d))}getAllVersions(){return(0,s.n)(this.http.get(this.baseURL+"consulta-objects/get-all-versions"))}getAllObjects(){return(0,s.n)(this.http.get(this.baseURL+"consulta-objects/get-all-objects"))}getLastVersions(){return(0,s.n)(this.http.get(this.baseURL+"consulta-objects/get-last-versions"))}}return l.\u0275fac=function(d){return new(d||l)(e.LFG(m.eN))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);