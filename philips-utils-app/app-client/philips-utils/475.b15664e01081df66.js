"use strict";(self.webpackChunkphilips=self.webpackChunkphilips||[]).push([[475],{3475:($,g,r)=>{r.r(g),r.d(g,{SortingModule:()=>Y});var p=r(9808),f=r(2438),l=r(9783),e=r(7587),v=r(3682),d=r(5330),c=r(8952),u=r(845),_=r(1424),y=r(4870),C=r(5315);const T=["filter"];function b(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"span",12),e._UZ(2,"i",13),e.TgZ(3,"input",14,15),e.NdJ("input",function(s){e.CHM(t);const a=e.oxw(),m=e.MAs(9);return e.KtG(a.onGlobalFilter(m,s))}),e.qZA()(),e.TgZ(5,"button",16),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(),a=e.MAs(9);return e.KtG(s.atualizar(a))}),e.qZA()()}}function x(n,o){1&n&&(e.TgZ(0,"tr")(1,"th",17)(2,"div",18),e._uU(3," OS "),e._UZ(4,"p-sortIcon",19),e.qZA()(),e.TgZ(5,"th",20)(6,"div",18),e._uU(7," Dano "),e._UZ(8,"p-sortIcon",21),e.qZA()(),e.TgZ(9,"th",22)(10,"div",18),e._uU(11," Cliente "),e._UZ(12,"p-sortIcon",23),e.qZA()(),e.TgZ(13,"th",24)(14,"div",18),e._uU(15," Executor "),e._UZ(16,"p-sortIcon",25),e.qZA()(),e.TgZ(17,"th",26)(18,"div",18),e._uU(19," Fun\xe7\xe3o "),e._UZ(20,"p-sortIcon",27),e.qZA()(),e.TgZ(21,"th",28)(22,"div",18),e._uU(23," Data Cria\xe7\xe3o "),e._UZ(24,"p-sortIcon",29),e.qZA()(),e.TgZ(25,"th",30)(26,"div",18),e._uU(27," Estagio "),e._UZ(28,"p-sortIcon",31),e.qZA()(),e.TgZ(29,"th")(30,"div",18),e._uU(31," Azure Card "),e.qZA()()())}function S(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Tol("customer-badge status-unqualified"),e.xp6(1),e.hij(" ",i.getTipoSLA(t.IE_TIPO_SLA),"")}}function O(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",32)(1,"td",33),e._uU(2),e.qZA(),e.TgZ(3,"td",34)(4,"div",35),e._uU(5),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA(),e.YNc(8,S,2,3,"span",36),e.qZA(),e.TgZ(9,"td",37),e._uU(10),e.qZA(),e.TgZ(11,"td",38),e._uU(12),e.qZA(),e.TgZ(13,"td",33),e._uU(14),e.qZA(),e.TgZ(15,"td",39),e._uU(16),e.qZA(),e.TgZ(17,"td",33),e._uU(18),e.qZA(),e.TgZ(19,"td",33)(20,"p-button",40),e.NdJ("onClick",function(){const a=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.createCardAzure(a.NR_SEQUENCIA))}),e.qZA()()()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("pSelectableRow",t),e.xp6(2),e.hij(" ",t.NR_SEQUENCIA," "),e.xp6(3),e.hij(" ",t.DS_DANO_BREVE," "),e.xp6(1),e.Tol("customer-badge status-proposal"),e.xp6(1),e.hij(" ",t.DS_CLASSIFICACAO,""),e.xp6(1),e.Q6J("ngIf",t.IE_TIPO_SLA>0),e.xp6(2),e.hij(" ",t.DS_LOCALIZACAO," "),e.xp6(2),e.hij(" ",t.USUARIO_EXEC_GRUPO," "),e.xp6(2),e.hij(" ",t.DS_FUNCAO," "),e.xp6(2),e.hij(" ",t.DT_ORDEM_SERVICO," "),e.xp6(2),e.hij(" ",t.DS_ESTAGIO," "),e.xp6(2),e.Q6J("disabled",i.disabledButton)}}function w(n,o){1&n&&(e.TgZ(0,"tr")(1,"td",41),e._uU(2,"No customers found."),e.qZA()())}function I(n,o){1&n&&(e.TgZ(0,"tr")(1,"td",41),e._uU(2," Loading customers data. Please wait. "),e.qZA()())}const A=function(){return{width:"50vw"}},E=function(){return["NR_SEQUENCIA","DS_DANO_BREVE"]};let k=(()=>{class n{constructor(t,i){this.sortingService=t,this.dialogService=i,this.list_SO_Corp=[],this.activityValues=[0,100],this.isExpanded=!1,this.idFrozen=!1,this.loading=!0,this.ordemSelecionada=[],this.showAbort=!1,this.mensagemAbort="",this.disabledButton=!1}ngOnInit(){this.getAllOS()}getAllOS(){this.sortingService.getAllOrdernsService().then(t=>{this.list_SO_Corp=t}),this.loading=!1}onGlobalFilter(t,i){t.filterGlobal(i.target.value,"contains")}clear(t){t.clear(),this.filter.nativeElement.value=""}atualizar(t){this.clear(t),this.loading=!0,setTimeout(()=>{this.getAllOS()},500)}onRowSelect(t){console.log(t.data.NR_SEQUENCIA)}onRowUnselect(t){console.log(t.data.NR_SEQUENCIA),this.sortingService.getHistoricoOrdernService(t.data.NR_SEQUENCIA).then(i=>{console.log(i)})}getTipoSLA(t){if(t)switch(t){case 1:return"SLA com contrato e Multa";case 2:return"SLA com contrato e sem multa";case 3:return"SLA sem contrato";default:return""}}createCardAzure(t){this.disabledButton=!0,this.sortingService.createCardAzure({nr_ordem_service:t}).then(i=>{this.disabledButton=!1,this.showAbort=!0,this.mensagemAbort=i[0].value})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.$),e.Y36(d.xA))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-sorting"]],viewQuery:function(t,i){if(1&t&&e.Gf(T,5),2&t){let s;e.iGM(s=e.CRH())&&(i.filter=s.first)}},features:[e._Bn([l.ez,l.YP])],decls:15,vars:16,consts:[["header","Inconsist\xeancia",3,"visible","modal","draggable","resizable","visibleChange"],[1,"grid"],[1,"col-12"],[1,"card"],["styleClass","p-datatable-gridlines p-datatable-sm p-datatable-striped","responsiveLayout","scroll","selectionMode","single","dataKey","NR_SEQUENCIA",3,"value","rows","loading","rowHover","paginator","globalFilterFields","selection","selectionChange","onRowSelect","onRowUnselect"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-column","sm:flex-row"],[1,"p-input-icon-left","mb-2"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Filtar",1,"w-full",3,"input"],["filter",""],["pButton","","label","Atualizar",1,"p-button-outlined",3,"click"],["pSortableColumn","NR_SEQUENCIA"],[1,"flex","justify-content-between","align-items-center"],["field","NR_SEQUENCIA"],["pSortableColumn","DS_DANO_BREVE"],["field","DS_DANO_BREVE"],["pSortableColumn","USUARIO_EXEC_GRUPO"],["field","USUARIO_EXEC_GRUPO"],["pSortableColumn","DS_LOCALIZACAO"],["field","DS_LOCALIZACAO"],["pSortableColumn","DS_FUNCAO"],["field","DS_FUNCAO"],["pSortableColumn","DT_ORDEM_SERVICO"],["field","DT_ORDEM_SERVICO"],["pSortableColumn","DS_ESTAGIO"],["field","DS_ESTAGIO"],[3,"pSelectableRow"],[2,"min-width","1rem"],[2,"min-width","30rem"],[1,"legend-grid"],[3,"class",4,"ngIf"],[2,"min-width","25rem"],[2,"min-width","5rem"],[2,"min-width","10rem"],["label","Enviar","styleClass","p-button-sm","icon","pi pi-credit-card",3,"disabled","onClick"],["colspan","7"]],template:function(t,i){1&t&&(e._UZ(0,"ngx-loading-bar"),e.TgZ(1,"p-dialog",0),e.NdJ("visibleChange",function(a){return i.showAbort=a}),e._uU(2),e.qZA(),e.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"h5"),e._uU(7,"Fila Triagem"),e.qZA(),e.TgZ(8,"p-table",4,5),e.NdJ("selectionChange",function(a){return i.ordemSelecionada=a})("onRowSelect",function(a){return i.onRowSelect(a)})("onRowUnselect",function(a){return i.onRowUnselect(a)}),e.YNc(10,b,6,0,"ng-template",6),e.YNc(11,x,32,0,"ng-template",7),e.YNc(12,O,21,13,"ng-template",8),e.YNc(13,w,3,0,"ng-template",9),e.YNc(14,I,3,0,"ng-template",10),e.qZA()()()()),2&t&&(e.xp6(1),e.Akn(e.DdM(14,A)),e.Q6J("visible",i.showAbort)("modal",!0)("draggable",!1)("resizable",!1),e.xp6(1),e.hij(" ",i.mensagemAbort,"\n"),e.xp6(6),e.Q6J("value",i.list_SO_Corp)("rows",10)("loading",i.loading)("rowHover",!0)("paginator",!0)("globalFilterFields",e.DdM(15,E))("selection",i.ordemSelecionada))},dependencies:[p.O5,c.iA,l.jx,c.lQ,c.Ei,c.fz,u.Hq,u.zx,_.o,y.Nv,C.V],styles:[".customer-badge[_ngcontent-%COMP%]{border-radius:var(--border-radius);padding:.25em .5rem;text-transform:uppercase;font-weight:700;font-size:11px;letter-spacing:.3px;margin:1px}.customer-badge.status-qualified[_ngcontent-%COMP%]{background:#C8E6C9;color:#256029}.customer-badge.status-unqualified[_ngcontent-%COMP%]{background:#FFCDD2;color:#c63737}.customer-badge.status-negotiation[_ngcontent-%COMP%]{background:#FEEDAF;color:#8a5340}.customer-badge.status-new[_ngcontent-%COMP%]{background:#B3E5FC;color:#23547b}.customer-badge.status-renewal[_ngcontent-%COMP%]{background:#ECCFFF;color:#694382}.customer-badge.status-proposal[_ngcontent-%COMP%]{background:#FFD8B2;color:#805b36}.legend-grid[_ngcontent-%COMP%]{margin-bottom:4px}"]}),n})(),Z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[f.Bz.forChild([{path:"",component:k}]),f.Bz]}),n})();var D=r(2841),h=r(5787),P=r(6526),R=r(4036),M=r(8185);let L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,h.T,l.m8]}),n})();var V=r(4776),N=r(8018),F=r(2382),z=r(1470),H=r(386);let J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,h.T,l.m8,l.m8]}),n})();var q=r(8911);let Y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[v.$,d.xA],imports:[p.ez,Z,F.u5,c.U$,N.Xt,u.hJ,V.JH,_.j,D.KZ,h.T,P.q4,R.kW,M.q,L,z.yI.forRoot(),H.e,y.sS,C.S,J,d.DL,q.SettingsModule]}),n})()}}]);